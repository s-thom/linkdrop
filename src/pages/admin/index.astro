---
import AuthLayout from "~/layouts/AuthLayout.astro";
import AdminSidebar from "~/components/AdminSidebar.astro";
import { LinkDropText } from "~/components/LinkDropText";
import { getUserById } from "~/lib/models/user.server";

const userId = Astro.locals.userId!;
const user = await getUserById(userId);

if (!user || !user.isAdmin) {
  return new Response("Not Found", { status: 404 });
}
---

<AuthLayout title="Admin">
  <div class="flex flex-col md:flex-row md:justify-center">
    <AdminSidebar />
    <main class="flex-1 p-6 md:max-w-xl lg:max-w-2xl">
      <h2 class="mb-6 text-6xl sm:text-8xl lg:text-9xl">
        <LinkDropText link="ad" drop="min" client:load />
      </h2>
    </main>
  </div>
</AuthLayout>
